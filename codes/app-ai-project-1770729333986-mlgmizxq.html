<!DOCTYPE html>
<html lang="id" style="scroll-behavior: smooth;">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chandra Tea Co. | Teh Premium Pilihan Nusantara</title>
    
    <!-- Google Fonts: Playfair Display (Serif for headings) and Inter (Sans-serif for body) -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400..900;1,400..900&family=Inter:wght@100..900&display=swap" rel="stylesheet">
    
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Lucide Icons CDN -->
    <script src="https://unpkg.com/lucide@latest"></script>

    <!-- Tailwind Configuration -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'primary': '#386641', // Deep Forest Green
                        'secondary': '#A7C957', // Moss Green
                        'background': '#F9F9F7', // Creamy Off-White
                        'text-dark': '#1e293b',
                    },
                    fontFamily: {
                        heading: ['Playfair Display', 'serif'],
                        body: ['Inter', 'sans-serif'],
                    },
                    spacing: {
                        '128': '32rem',
                    }
                }
            }
        }
    </script>
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #F9F9F7;
            color: #1e293b;
        }
        h1, h2, h3 {
            font-family: 'Playfair Display', serif;
        }
        /* Custom scrollbar for better aesthetics */
        ::-webkit-scrollbar {
            width: 8px;
        }
        ::-webkit-scrollbar-track {
            background: #F9F9F7;
        }
        ::-webkit-scrollbar-thumb {
            background: #386641;
            border-radius: 10px;
        }
    </style>
</head>
<body class="antialiased">

    <!-- 1. Navigation Bar -->
    <header class="sticky top-0 z-50 bg-background shadow-lg/50 backdrop-blur-sm">
        <nav class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 flex justify-between items-center transition-all duration-300">
            <!-- Logo -->
            <a href="#" class="text-3xl font-heading font-bold text-primary">
                Chandra<span class="text-secondary text-xl">Tea</span>
            </a>

            <!-- Desktop Links -->
            <div class="hidden lg:flex space-x-8 text-lg">
                <a href="#hero" class="text-text-dark hover:text-primary transition duration-200">Beranda</a>
                <a href="#shop" class="text-text-dark hover:text-primary transition duration-200">Toko</a>
                <a href="#story" class="text-text-dark hover:text-primary transition duration-200">Kisah Kami</a>
                <a href="#brew" class="text-text-dark hover:text-primary transition duration-200">Cara Seduh</a>
                <a href="#contact" class="text-text-dark hover:text-primary transition duration-200">Kontak</a>
            </div>

            <!-- Icons and Cart -->
            <div class="flex items-center space-x-4">
                <button id="cart-button" class="relative p-2 rounded-full hover:bg-secondary/20 transition">
                    <i data-lucide="shopping-cart" class="w-6 h-6 text-primary"></i>
                    <span id="cart-badge" class="absolute top-0 right-0 inline-flex items-center justify-center px-2 py-1 text-xs font-bold leading-none text-white transform translate-x-1/2 -translate-y-1/2 bg-red-600 rounded-full">0</span>
                </button>
                
                <!-- Mobile Menu Button -->
                <button id="menu-toggle" class="lg:hidden p-2 rounded-full hover:bg-secondary/20 transition">
                    <i data-lucide="menu" class="w-6 h-6 text-primary"></i>
                </button>
            </div>
        </nav>

        <!-- Mobile Menu (Hidden by default) -->
        <div id="mobile-menu" class="hidden lg:hidden absolute top-full left-0 w-full bg-background border-t border-secondary/30 shadow-xl pb-4">
            <div class="flex flex-col items-center space-y-4 pt-4">
                <a href="#hero" class="text-lg text-text-dark hover:text-primary" onclick="closeMenu()">Beranda</a>
                <a href="#shop" class="text-lg text-text-dark hover:text-primary" onclick="closeMenu()">Toko</a>
                <a href="#story" class="text-lg text-text-dark hover:text-primary" onclick="closeMenu()">Kisah Kami</a>
                <a href="#brew" class="text-lg text-text-dark hover:text-primary" onclick="closeMenu()">Cara Seduh</a>
                <a href="#contact" class="text-lg text-text-dark hover:text-primary" onclick="closeMenu()">Kontak</a>
            </div>
        </div>
    </header>

    <main>
        <!-- 2. Hero Section -->
        <section id="hero" class="relative h-[60vh] lg:h-[80vh] flex items-center justify-center overflow-hidden">
            <!-- Background Image -->
            <img src="https://img.lazcdn.com/g/ff/kf/S10b1794fa51a4261b2e6b8d9959a70b4L.jpg_720x720q80.jpg" alt="Daun teh segar" class="absolute inset-0 w-full h-full object-cover brightness-75">
            
            <!-- Overlay and Content -->
            <div class="absolute inset-0 bg-black/30"></div>
            <div class="relative z-10 text-center p-6 max-w-4xl">
                <h1 class="text-4xl sm:text-6xl lg:text-7xl font-heading font-extrabold text-white leading-tight mb-4 animate-fadeInUp">
                    Seduhan Terbaik dari Bumi Nusantara
                </h1>
                <p class="text-lg sm:text-xl text-gray-200 mb-8 max-w-2xl mx-auto">
                    Temukan koleksi teh premium yang dipanen dengan hati-hati dari perkebunan terbaik di Indonesia. Kualitas sejati dalam setiap tegukan.
                </p>
                <a href="#shop" class="inline-block px-10 py-4 bg-primary text-white text-lg font-semibold rounded-full shadow-xl hover:bg-secondary transition duration-300 transform hover:scale-105">
                    Mulai Belanja Sekarang
                </a>
            </div>
        </section>

        <!-- 3. Feature Highlights / Value Proposition -->
        <section class="py-16 bg-background">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <div class="grid grid-cols-1 md:grid-cols-3 gap-8 text-center">
                    <div class="p-6 bg-white rounded-xl shadow-lg transition duration-300 hover:shadow-2xl">
                        <i data-lucide="leaf" class="w-10 h-10 mx-auto text-primary mb-3"></i>
                        <h3 class="text-xl font-semibold mb-2 text-text-dark">Organik & Alami</h3>
                        <p class="text-gray-600">Tanpa pestisida, dipanen secara berkelanjutan, menjaga kemurnian rasa.</p>
                    </div>
                    <div class="p-6 bg-white rounded-xl shadow-lg transition duration-300 hover:shadow-2xl">
                        <i data-lucide="package" class="w-10 h-10 mx-auto text-primary mb-3"></i>
                        <h3 class="text-xl font-semibold mb-2 text-text-dark">Kemasan Segar</h3>
                        <p class="text-gray-600">Dikemas langsung di kebun untuk mempertahankan aroma dan kesegaran maksimal.</p>
                    </div>
                    <div class="p-6 bg-white rounded-xl shadow-lg transition duration-300 hover:shadow-2xl">
                        <i data-lucide="heart" class="w-10 h-10 mx-auto text-primary mb-3"></i>
                        <h3 class="text-xl font-semibold mb-2 text-text-dark">Dukungan Petani</h3>
                        <p class="text-gray-600">Kami bekerja sama langsung dengan petani lokal, memastikan harga yang adil.</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- 4. Shop Section - Featured Products -->
        <section id="shop" class="py-20 bg-gray-50">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <h2 class="text-4xl font-heading font-bold text-center text-text-dark mb-4">Koleksi Teh Premium Kami</h2>
                <p class="text-center text-lg text-gray-600 mb-12">Pilih varian favorit Anda dari teh hitam klasik, teh hijau menenangkan, hingga herbal eksotis.</p>

                <!-- Product Grid -->
                <div id="product-list" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8">
                    <!-- Products will be injected here by JavaScript -->
                </div>
                
                <div class="text-center mt-12">
                    <a href="#" class="inline-block px-8 py-3 border border-primary text-primary font-semibold rounded-full hover:bg-primary hover:text-white transition duration-300">
                        Lihat Semua Produk
                    </a>
                </div>
            </div>
        </section>

        <!-- 5. Story Section -->
        <section id="story" class="py-20 bg-background">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <div class="flex flex-col lg:flex-row gap-12 items-center">
                    <div class="lg:w-1/2">
                        <img src="https://upload.wikimedia.org/wikipedia/commons/8/82/Perkebunan_Teh_Rancabali.jpg" alt="Perkebunan Teh" class="rounded-xl shadow-2xl w-full object-cover aspect-square lg:aspect-video">
                    </div>
                    <div class="lg:w-1/2">
                        <span class="text-secondary font-semibold uppercase tracking-widest mb-2">Kisah Kami</span>
                        <h2 class="text-4xl font-heading font-bold text-text-dark mb-6">Warisan Rasa Sejak 1985</h2>
                        <p class="mb-4 text-gray-700 leading-relaxed">
                            Chandra Tea lahir dari kecintaan mendalam terhadap budaya teh Indonesia. Kami percaya bahwa teh adalah lebih dari sekadar minuman; ia adalah ritual, warisan, dan koneksi ke alam. Sejak awal, komitmen kami adalah memanen hanya daun teh terbaik yang tumbuh di ketinggian pegunungan Jawa Barat.
                        </p>
                        <p class="mb-6 text-gray-700 leading-relaxed">
                            Setiap batch melalui proses pengolahan tradisional yang diawasi oleh ahli teh berpengalaman, memastikan profil rasa yang kaya, aromatik, dan tak tertandingi. Kami mengundang Anda untuk merasakan perbedaan teh yang dibuat dengan dedikasi dan integritas.
                        </p>
                        <a href="#contact" class="text-primary font-semibold flex items-center hover:underline">
                            Pelajari Lebih Lanjut <i data-lucide="arrow-right" class="w-4 h-4 ml-2"></i>
                        </a>
                    </div>
                </div>
            </div>
        </section>

        <!-- 6. How to Brew (Interactive Tabs) -->
        <section id="brew" class="py-20 bg-white">
            <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
                <h2 class="text-4xl font-heading font-bold text-text-dark mb-4">Panduan Menyeduh Teh Sempurna</h2>
                <p class="text-lg text-gray-600 mb-10">Maksimalkan pengalaman minum teh Anda dengan panduan sederhana ini.</p>

                <!-- Tab Navigation -->
                <div class="flex justify-center border-b border-gray-200 mb-8">
                    <button class="tab-button px-6 py-3 text-lg font-semibold text-text-dark border-b-2 border-transparent transition duration-300 active-tab" data-tab="black">Teh Hitam</button>
                    <button class="tab-button px-6 py-3 text-lg font-semibold text-text-dark border-b-2 border-transparent transition duration-300" data-tab="green">Teh Hijau</button>
                    <button class="tab-button px-6 py-3 text-lg font-semibold text-text-dark border-b-2 border-transparent transition duration-300" data-tab="oolong">Teh Oolong</button>
                </div>

                <!-- Tab Content -->
                <div id="tab-content-black" class="tab-content text-left p-6 bg-gray-50 rounded-lg shadow-inner active">
                    <h3 class="text-2xl font-semibold mb-4 text-primary">Teh Hitam (Klasik dan Kuat)</h3>
                    <ul class="space-y-3 list-disc list-inside text-gray-700">
                        <li><span class="font-bold">Air:</span> Didihkan hingga suhu 95-100°C.</li>
                        <li><span class="font-bold">Dosis:</span> 1 sendok teh penuh per cangkir (250ml).</li>
                        <li><span class="font-bold">Waktu Seduh:</span> 3 hingga 5 menit.</li>
                        <li><span class="font-bold">Tips:</span> Cocok ditambahkan susu atau sedikit gula. Jangan seduh terlalu lama agar tidak pahit.</li>
                    </ul>
                </div>

                <div id="tab-content-green" class="tab-content text-left p-6 bg-gray-50 rounded-lg shadow-inner hidden">
                    <h3 class="text-2xl font-semibold mb-4 text-primary">Teh Hijau (Segar dan Kaya Antioksidan)</h3>
                    <ul class="space-y-3 list-disc list-inside text-gray-700">
                        <li><span class="font-bold">Air:</span> Panaskan hingga suhu 70-80°C (Air mendidih lalu diamkan 2 menit).</li>
                        <li><span class="font-bold">Dosis:</span> 1 sendok teh datar per cangkir.</li>
                        <li><span class="font-bold">Waktu Seduh:</span> 1 hingga 3 menit.</li>
                        <li><span class="font-bold">Tips:</span> Suhu air yang terlalu panas akan merusak rasa dan membuatnya pahit.</li>
                    </ul>
                </div>

                <div id="tab-content-oolong" class="tab-content text-left p-6 bg-gray-50 rounded-lg shadow-inner hidden">
                    <h3 class="text-2xl font-semibold mb-4 text-primary">Teh Oolong (Aromatik dan Kompleks)</h3>
                    <ul class="space-y-3 list-disc list-inside text-gray-700">
                        <li><span class="font-bold">Air:</span> Panaskan hingga suhu 85-90°C.</li>
                        <li><span class="font-bold">Dosis:</span> 1-2 sendok teh per cangkir, tergantung tingkat gulungan daun.</li>
                        <li><span class="font-bold">Waktu Seduh:</span> 2 hingga 4 menit (dapat diseduh ulang 3-5 kali).</li>
                        <li><span class="font-bold">Tips:</span> Oolong cocok untuk Gongfu Cha (ritual seduh berulang).</li>
                    </ul>
                </div>
            </div>
        </section>

        <!-- 7. Customer Testimonials (Simple Slider Simulation) -->
        <section class="py-20 bg-secondary/10">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <h2 class="text-4xl font-heading font-bold text-center text-text-dark mb-12">Kata Mereka Tentang Chandra Tea</h2>
                
                <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
                    <!-- Review 1 -->
                    <div class="bg-white p-8 rounded-xl shadow-lg border-t-4 border-primary/70">
                        <i data-lucide="quote" class="w-8 h-8 text-secondary mb-4"></i>
                        <p class="italic text-gray-700 mb-6">"Teh Hitam Malabar mereka benar-benar luar biasa. Aroma malt yang kuat dan rasa yang lembut. Saya selalu memulai pagi saya dengan Chandra Tea."</p>
                        <div class="flex items-center">
                            <i data-lucide="star" class="w-4 h-4 fill-yellow-500 text-yellow-500"></i>
                            <i data-lucide="star" class="w-4 h-4 fill-yellow-500 text-yellow-500"></i>
                            <i data-lucide="star" class="w-4 h-4 fill-yellow-500 text-yellow-500"></i>
                            <i data-lucide="star" class="w-4 h-4 fill-yellow-500 text-yellow-500"></i>
                            <i data-lucide="star" class="w-4 h-4 fill-yellow-500 text-yellow-500"></i>
                            <span class="ml-3 font-semibold">Bambang S.</span>
                        </div>
                    </div>
                    <!-- Review 2 -->
                    <div class="bg-white p-8 rounded-xl shadow-lg border-t-4 border-primary/70">
                        <i data-lucide="quote" class="w-8 h-8 text-secondary mb-4"></i>
                        <p class="italic text-gray-700 mb-6">"Teh Hijau Sencha-nya sangat segar, tidak pahit sama sekali. Pelayanan pelanggan juga cepat dan pengemasannya sangat amanah."</p>
                        <div class="flex items-center">
                            <i data-lucide="star" class="w-4 h-4 fill-yellow-500 text-yellow-500"></i>
                            <i data-lucide="star" class="w-4 h-4 fill-yellow-500 text-yellow-500"></i>
                            <i data-lucide="star" class="w-4 h-4 fill-yellow-500 text-yellow-500"></i>
                            <i data-lucide="star" class="w-4 h-4 fill-yellow-500 text-yellow-500"></i>
                            <i data-lucide="star" class="w-4 h-4 text-yellow-500"></i>
                            <span class="ml-3 font-semibold">Rina P.</span>
                        </div>
                    </div>
                    <!-- Review 3 -->
                    <div class="bg-white p-8 rounded-xl shadow-lg border-t-4 border-primary/70">
                        <i data-lucide="quote" class="w-8 h-8 text-secondary mb-4"></i>
                        <p class="italic text-gray-700 mb-6">"Saya suka teh herbal 'Serenity Blend'. Sangat menenangkan sebelum tidur. Kualitas daun teh premium, terlihat dari keutuhan daunnya."</p>
                        <div class="flex items-center">
                            <i data-lucide="star" class="w-4 h-4 fill-yellow-500 text-yellow-500"></i>
                            <i data-lucide="star" class="w-4 h-4 fill-yellow-500 text-yellow-500"></i>
                            <i data-lucide="star" class="w-4 h-4 fill-yellow-500 text-yellow-500"></i>
                            <i data-lucide="star" class="w-4 h-4 fill-yellow-500 text-yellow-500"></i>
                            <i data-lucide="star" class="w-4 h-4 fill-yellow-500 text-yellow-500"></i>
                            <span class="ml-3 font-semibold">Fandi A.</span>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- 8. Contact & Newsletter -->
        <section id="contact" class="py-20 bg-primary/90">
            <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
                <h2 class="text-4xl font-heading font-bold text-white mb-4">Jangan Lewatkan Penawaran Spesial</h2>
                <p class="text-xl text-primary/30 mb-8 text-white/80">Dapatkan diskon 10% untuk pembelian pertama Anda dan berita terbaru langsung ke inbox.</p>
                
                <form id="newsletter-form" class="max-w-lg mx-auto flex flex-col sm:flex-row gap-4">
                    <input type="email" id="newsletter-email" placeholder="Masukkan alamat email Anda" required class="flex-grow p-4 rounded-lg border-none focus:ring-secondary focus:border-secondary transition duration-300 text-text-dark" aria-label="Alamat Email">
                    <button type="submit" class="w-full sm:w-auto px-8 py-4 bg-secondary text-primary font-bold rounded-lg hover:bg-white hover:text-primary transition duration-300 transform hover:scale-[1.02]">
                        Daftar Sekarang
                    </button>
                </form>
                <p id="newsletter-message" class="mt-4 text-white font-semibold hidden"></p>
            </div>
        </section>
    </main>

    <!-- 9. Footer -->
    <footer class="bg-text-dark text-white pt-12 pb-8">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="grid grid-cols-2 md:grid-cols-4 gap-8 mb-10">
                <!-- Col 1: Logo & About -->
                <div>
                    <h3 class="text-3xl font-heading font-bold text-primary mb-3">Chandra<span class="text-secondary text-xl">Tea</span></h3>
                    <p class="text-gray-400 text-sm">Menghadirkan keharmonisan dan kualitas alam dalam setiap cangkir teh Anda.</p>
                </div>
                
                <!-- Col 2: Navigasi -->
                <div>
                    <h4 class="text-lg font-semibold mb-4 border-b border-secondary/50 pb-1">Navigasi</h4>
                    <ul class="space-y-2 text-sm">
                        <li><a href="#shop" class="text-gray-400 hover:text-secondary transition">Belanja</a></li>
                        <li><a href="#story" class="text-gray-400 hover:text-secondary transition">Tentang Kami</a></li>
                        <li><a href="#brew" class="text-gray-400 hover:text-secondary transition">Panduan Seduh</a></li>
                        <li><a href="#" class="text-gray-400 hover:text-secondary transition">FAQ</a></li>
                    </ul>
                </div>
                
                <!-- Col 3: Dukungan -->
                <div>
                    <h4 class="text-lg font-semibold mb-4 border-b border-secondary/50 pb-1">Dukungan</h4>
                    <ul class="space-y-2 text-sm">
                        <li><a href="#" class="text-gray-400 hover:text-secondary transition">Kebijakan Pengiriman</a></li>
                        <li><a href="#" class="text-gray-400 hover:text-secondary transition">Kebijakan Pengembalian</a></li>
                        <li><a href="#contact" class="text-gray-400 hover:text-secondary transition">Hubungi Kami</a></li>
                        <li><a href="#" class="text-gray-400 hover:text-secondary transition">Karir</a></li>
                    </ul>
                </div>
                
                <!-- Col 4: Kontak -->
                <div>
                    <h4 class="text-lg font-semibold mb-4 border-b border-secondary/50 pb-1">Kontak</h4>
                    <p class="text-gray-400 text-sm">Jl. Teh Hijau No. 12, Bandung, Jawa Barat</p>
                    <p class="text-gray-400 text-sm mt-2">(+62) 812-3456-7890</p>
                    <div class="flex space-x-4 mt-4">
                        <a href="#" class="text-gray-400 hover:text-secondary transition"><i data-lucide="instagram" class="w-6 h-6"></i></a>
                        <a href="#" class="text-gray-400 hover:text-secondary transition"><i data-lucide="facebook" class="w-6 h-6"></i></a>
                        <a href="#" class="text-gray-400 hover:text-secondary transition"><i data-lucide="twitter" class="w-6 h-6"></i></a>
                    </div>
                </div>
            </div>

            <div class="border-t border-gray-700 pt-6 mt-6 text-center text-sm text-gray-500">
                &copy; 2024 Chandra Tea Co. Semua Hak Dilindungi. Dibuat dengan cinta untuk para pecinta teh.
            </div>
        </div>
    </footer>

    <!-- 10. Shopping Cart Modal -->
    <div id="cart-modal" class="fixed inset-0 bg-black bg-opacity-50 z-[100] hidden transition-opacity duration-300">
        <div class="absolute top-0 right-0 w-full md:w-96 h-full bg-background shadow-2xl overflow-y-auto transform translate-x-full transition-transform duration-300 ease-in-out" id="cart-drawer">
            
            <div class="flex justify-between items-center p-6 border-b border-gray-200 sticky top-0 bg-background z-10">
                <h3 class="text-2xl font-heading font-bold text-text-dark">Keranjang Belanja</h3>
                <button id="close-cart-button" class="p-2 rounded-full hover:bg-gray-200">
                    <i data-lucide="x" class="w-6 h-6 text-text-dark"></i>
                </button>
            </div>

            <!-- Cart Items Container -->
            <div id="cart-items-container" class="p-6 space-y-4 min-h-[300px]">
                <!-- Cart items will be injected here -->
                <p id="empty-cart-message" class="text-center text-gray-500 mt-10 hidden">Keranjang Anda masih kosong.</p>
            </div>

            <!-- Cart Footer (Subtotal & Checkout) -->
            <div class="p-6 border-t border-gray-200 absolute bottom-0 w-full bg-background shadow-inner">
                <div class="flex justify-between items-center text-xl font-bold mb-4">
                    <span>Subtotal:</span>
                    <span id="cart-subtotal" class="text-primary">Rp 0</span>
                </div>
                <button class="w-full py-3 bg-primary text-white font-semibold rounded-lg hover:bg-secondary transition duration-300 disabled:bg-gray-400" id="checkout-button" disabled>
                    Lanjutkan ke Pembayaran
                </button>
            </div>

        </div>
    </div>

    <!-- JavaScript Section -->
    <script>
        // Initialize Lucide Icons
        lucide.createIcons();

        // ----------------------------------------------------
        // 1. Data Definitions
        // ----------------------------------------------------

        const productsData = [
            { id: 1, name: "Teh Hitam Malabar", price: 75000, image: "https://media.istockphoto.com/id/1391718981/photo/portrait-of-a-confident-young-businessman-standing-with-his-arms-crossed-in-an-office.jpg?s=612x612&w=0&k=20&c=eF_0QCtw-Y8Q2c4_xQe6KTkcSPiGCT6qBf6nuavE2Dg=", category: "Hitam", desc: "Teh hitam full-bodied dengan aroma malt yang kaya." },
            { id: 2, name: "Teh Hijau Sencha", price: 62000, image: "https://media.istockphoto.com/id/1391718981/photo/portrait-of-a-confident-young-businessman-standing-with-his-arms-crossed-in-an-office.jpg?s=612x612&w=0&k=20&c=eF_0QCtw-Y8Q2c4_xQe6KTkcSPiGCT6qBf6nuavE2Dg=", category: "Hijau", desc: "Teh hijau kukus ala Jepang, segar dengan rasa umami ringan." },
            { id: 3, name: "Oolong Tieguanyin", price: 98000, image: "https://media.istockphoto.com/id/1391718981/photo/portrait-of-a-confident-young-businessman-standing-with-his-arms-crossed-in-an-office.jpg?s=612x612&w=0&k=20&c=eF_0QCtw-Y8Q2c4_xQe6KTkcSPiGCT6qBf6nuavE2Dg=", category: "Oolong", desc: "Teh semi-fermentasi, memiliki aroma bunga dan buah persik." },
            { id: 4, name: "Herbal Serenity Blend", price: 55000, image: "https://media.istockphoto.com/id/1391718981/photo/portrait-of-a-confident-young-businessman-standing-with-his-arms-crossed-in-an-office.jpg?s=612x612&w=0&k=20&c=eF_0QCtw-Y8Q2c4_xQe6KTkcSPiGCT6qBf6nuavE2Dg=", category: "Herbal", desc: "Campuran chamomile, lavender, dan mint untuk relaksasi malam hari." },
            { id: 5, name: "Matcha Ceremonial", price: 150000, image: "https://picsum.photos/400/500?random=7", category: "Hijau", desc: "Bubuk teh hijau kualitas tertinggi, sangat halus dan vibrant." },
            { id: 6, name: "English Breakfast Blend", price: 70000, image: "https://picsum.photos/400/500?random=8", category: "Hitam", desc: "Campuran klasik yang kuat, sempurna untuk sarapan." },
        ];

        let cart = JSON.parse(localStorage.getItem('chandraTeaCart')) || [];

        // ----------------------------------------------------
        // 2. Utility Functions
        // ----------------------------------------------------

        const formatRupiah = (number) => {
            return new Intl.NumberFormat('id-ID', {
                style: 'currency',
                currency: 'IDR',
                minimumFractionDigits: 0
            }).format(number);
        };

        const saveCart = () => {
            localStorage.setItem('chandraTeaCart', JSON.stringify(cart));
            updateCartBadge();
            renderCart();
        };

        const updateCartBadge = () => {
            const totalItems = cart.reduce((sum, item) => sum + item.quantity, 0);
            document.getElementById('cart-badge').textContent = totalItems;
        };

        // ----------------------------------------------------
        // 3. Product Rendering
        // ----------------------------------------------------

        const productListContainer = document.getElementById('product-list');

        const renderProducts = () => {
            productListContainer.innerHTML = productsData.map(product => `
                <div class="bg-white rounded-xl shadow-lg overflow-hidden flex flex-col transition duration-300 hover:shadow-xl hover:scale-[1.01]">
                    <div class="h-64 overflow-hidden">
                        <img src="${product.image}" alt="${product.name}" class="w-full h-full object-cover transform hover:scale-105 transition duration-500">
                    </div>
                    <div class="p-6 flex flex-col flex-grow">
                        <span class="text-sm font-semibold text-secondary mb-1">${product.category}</span>
                        <h3 class="text-xl font-heading font-bold text-text-dark mb-2">${product.name}</h3>
                        <p class="text-gray-500 text-sm flex-grow mb-4">${product.desc}</p>
                        <div class="mt-auto">
                            <span class="text-2xl font-bold text-primary">${formatRupiah(product.price)}</span>
                            <button onclick="addToCart(${product.id})" class="mt-3 w-full py-2 bg-primary text-white font-semibold rounded-lg hover:bg-secondary transition duration-300 flex items-center justify-center">
                                <i data-lucide="baggage-claim" class="w-5 h-5 mr-2"></i> Tambah ke Keranjang
                            </button>
                        </div>
                    </div>
                </div>
            `).join('');
            // Re-initialize Lucide Icons for the newly injected buttons
            lucide.createIcons();
        };

        // ----------------------------------------------------
        // 4. Cart Management
        // ----------------------------------------------------

        const cartItemsContainer = document.getElementById('cart-items-container');
        const cartSubtotalElement = document.getElementById('cart-subtotal');
        const emptyCartMessage = document.getElementById('empty-cart-message');
        const checkoutButton = document.getElementById('checkout-button');

        const addToCart = (productId) => {
            const product = productsData.find(p => p.id === productId);
            const cartItemIndex = cart.findIndex(item => item.id === productId);

            if (cartItemIndex > -1) {
                cart[cartItemIndex].quantity += 1;
            } else {
                cart.push({ ...product, quantity: 1 });
            }

            saveCart();
            openCart();
        };

        const renderCart = () => {
            if (cart.length === 0) {
                cartItemsContainer.innerHTML = '';
                emptyCartMessage.classList.remove('hidden');
                checkoutButton.disabled = true;
            } else {
                emptyCartMessage.classList.add('hidden');
                checkoutButton.disabled = false;
                
                const cartHTML = cart.map(item => `
                    <div class="flex items-center space-x-4 border-b border-gray-100 pb-4">
                        <img src="${item.image}" alt="${item.name}" class="w-16 h-16 object-cover rounded-md shadow">
                        <div class="flex-grow">
                            <h4 class="font-semibold text-text-dark">${item.name}</h4>
                            <p class="text-sm text-primary font-bold">${formatRupiah(item.price * item.quantity)}</p>
                            <p class="text-xs text-gray-500">${formatRupiah(item.price)} per unit</p>
                        </div>
                        <div class="flex items-center space-x-2">
                            <button onclick="updateQuantity(${item.id}, -1)" class="p-1 border rounded-md hover:bg-gray-100">
                                <i data-lucide="minus" class="w-4 h-4 text-text-dark"></i>
                            </button>
                            <span class="w-6 text-center">${item.quantity}</span>
                            <button onclick="updateQuantity(${item.id}, 1)" class="p-1 border rounded-md hover:bg-gray-100">
                                <i data-lucide="plus" class="w-4 h-4 text-text-dark"></i>
                            </button>
                        </div>
                        <button onclick="removeFromCart(${item.id})" class="p-1 text-red-500 hover:text-red-700">
                            <i data-lucide="trash-2" class="w-5 h-5"></i>
                        </button>
                    </div>
                `).join('');
                cartItemsContainer.innerHTML = cartHTML;
                lucide.createIcons();
            }

            updateTotal();
        };

        const updateQuantity = (productId, delta) => {
            const item = cart.find(i => i.id === productId);
            if (!item) return;

            item.quantity += delta;

            if (item.quantity <= 0) {
                removeFromCart(productId);
            } else {
                saveCart();
            }
        };

        const removeFromCart = (productId) => {
            cart = cart.filter(item => item.id !== productId);
            saveCart();
        };

        const updateTotal = () => {
            const subtotal = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
            cartSubtotalElement.textContent = formatRupiah(subtotal);
        };

        // ----------------------------------------------------
        // 5. UI/Modal Interactions
        // ----------------------------------------------------

        const cartModal = document.getElementById('cart-modal');
        const cartDrawer = document.getElementById('cart-drawer');
        const cartButton = document.getElementById('cart-button');
        const closeCartButton = document.getElementById('close-cart-button');

        const menuToggle = document.getElementById('menu-toggle');
        const mobileMenu = document.getElementById('mobile-menu');

        const openCart = () => {
            renderCart();
            cartModal.classList.remove('hidden');
            setTimeout(() => {
                cartModal.style.opacity = '1';
                cartDrawer.style.transform = 'translateX(0)';
            }, 10);
            document.body.style.overflow = 'hidden'; // Prevent background scrolling
        };

        const closeCart = () => {
            cartModal.style.opacity = '0';
            cartDrawer.style.transform = 'translateX(100%)';
            setTimeout(() => {
                cartModal.classList.add('hidden');
            }, 300);
            document.body.style.overflow = 'auto';
        };

        const toggleMenu = () => {
            mobileMenu.classList.toggle('hidden');
            // Change icon
            const menuIcon = menuToggle.querySelector('svg');
            if (mobileMenu.classList.contains('hidden')) {
                menuIcon.outerHTML = '<i data-lucide="menu" class="w-6 h-6 text-primary"></i>';
            } else {
                menuIcon.outerHTML = '<i data-lucide="x" class="w-6 h-6 text-primary"></i>';
            }
            lucide.createIcons();
        };

        const closeMenu = () => {
            if (!mobileMenu.classList.contains('hidden')) {
                toggleMenu();
            }
        };

        // ----------------------------------------------------
        // 6. Tab Functionality (How to Brew)
        // ----------------------------------------------------
        
        const setupTabs = () => {
            const tabButtons = document.querySelectorAll('.tab-button');
            const tabContents = document.querySelectorAll('.tab-content');

            tabButtons.forEach(button => {
                button.addEventListener('click', () => {
                    const targetTab = button.dataset.tab;

                    // Deactivate all buttons
                    tabButtons.forEach(btn => {
                        btn.classList.remove('active-tab');
                        btn.style.borderColor = 'transparent';
                        btn.classList.remove('text-primary', 'border-primary');
                        btn.classList.add('text-text-dark');
                    });

                    // Hide all content
                    tabContents.forEach(content => {
                        content.classList.add('hidden');
                        content.classList.remove('active');
                    });

                    // Activate selected button
                    button.classList.add('active-tab', 'text-primary', 'border-primary');
                    button.style.borderColor = '#386641';

                    // Show selected content
                    document.getElementById(`tab-content-${targetTab}`).classList.remove('hidden');
                    document.getElementById(`tab-content-${targetTab}`).classList.add('active');
                });
            });

            // Initialize first tab
            document.querySelector('.tab-button[data-tab="black"]').click();
        };

        // ----------------------------------------------------
        // 7. Form Submission (Newsletter)
        // ----------------------------------------------------
        const newsletterForm = document.getElementById('newsletter-form');
        const newsletterMessage = document.getElementById('newsletter-message');

        newsletterForm.addEventListener('submit', function(e) {
            e.preventDefault();
            const emailInput = document.getElementById('newsletter-email').value;
            
            // Simple validation
            if (emailInput && emailInput.includes('@') && emailInput.includes('.')) {
                newsletterMessage.textContent = `Terima kasih! Email ${emailInput} telah didaftarkan. Diskon Anda akan dikirimkan!`;
                newsletterMessage.classList.remove('hidden', 'text-red-300');
                newsletterMessage.classList.add('text-white');
                newsletterForm.reset();
            } else {
                newsletterMessage.textContent = 'Mohon masukkan alamat email yang valid.';
                newsletterMessage.classList.remove('hidden', 'text-white');
                newsletterMessage.classList.add('text-red-300');
            }

            setTimeout(() => {
                newsletterMessage.classList.add('hidden');
            }, 5000);
        });

        // ----------------------------------------------------
        // 8. Initialization and Event Listeners
        // ----------------------------------------------------

        document.addEventListener('DOMContentLoaded', () => {
            renderProducts();
            updateCartBadge();
            setupTabs();

            // Navigation Events
            cartButton.addEventListener('click', openCart);
            closeCartButton.addEventListener('click', closeCart);
            menuToggle.addEventListener('click', toggleMenu);

            // Close cart when clicking outside the drawer
            cartModal.addEventListener('click', (e) => {
                if (e.target === cartModal) {
                    closeCart();
                }
            });
            
            // Checkout simulation
            checkoutButton.addEventListener('click', () => {
                alert(`Total pesanan: ${cartSubtotalElement.textContent}. Terima kasih telah berbelanja di Chandra Tea! (Simulasi Checkout Selesai)`);
                cart = [];
                saveCart();
                closeCart();
            });
        });
    </script>

</body>
</html>